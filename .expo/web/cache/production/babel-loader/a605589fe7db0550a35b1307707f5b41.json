{"ast":null,"code":"import _classCallCheck from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/createClass\";import NativeReanimatedModule from'./NativeReanimated';function jsListener(eventName,handler){return function(evt){handler(Object.assign(Object.assign({},evt.nativeEvent),{eventName:eventName}));};}var WorkletEventHandler=/*#__PURE__*/function(){function WorkletEventHandler(worklet){var eventNames=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];_classCallCheck(this,WorkletEventHandler);this.worklet=worklet;this.eventNames=eventNames;this.reattachNeeded=false;this.listeners={};this.viewTag=undefined;this.registrations=[];if(!NativeReanimatedModule[\"native\"]){this.listeners=eventNames.reduce(function(acc,eventName){acc[eventName]=jsListener(eventName,worklet);return acc;},{});}}_createClass(WorkletEventHandler,[{key:\"updateWorklet\",value:function updateWorklet(newWorklet){this.worklet=newWorklet;this.reattachNeeded=true;}},{key:\"registerForEvents\",value:function registerForEvents(viewTag,fallbackEventName){var _this=this;this.viewTag=viewTag;this.registrations=this.eventNames.map(function(eventName){return NativeReanimatedModule.registerEventHandler(viewTag+eventName,_this.worklet);});if(this.registrations.length===0&&fallbackEventName){this.registrations.push(NativeReanimatedModule.registerEventHandler(viewTag+fallbackEventName,this.worklet));}}},{key:\"unregisterFromEvents\",value:function unregisterFromEvents(){this.registrations.forEach(function(id){return NativeReanimatedModule.unregisterEventHandler(id);});this.registrations=[];}}]);return WorkletEventHandler;}();export{WorkletEventHandler as default};","map":{"version":3,"names":["NativeReanimatedModule","jsListener","eventName","handler","evt","Object","assign","nativeEvent","WorkletEventHandler","worklet","eventNames","reattachNeeded","listeners","viewTag","undefined","registrations","reduce","acc","newWorklet","fallbackEventName","map","registerEventHandler","length","push","forEach","id","unregisterEventHandler"],"sources":["/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/WorkletEventHandler.js"],"sourcesContent":["import NativeReanimatedModule from './NativeReanimated';\n\nfunction jsListener(eventName, handler) {\n  return evt => {\n    handler(Object.assign(Object.assign({}, evt.nativeEvent), {\n      eventName\n    }));\n  };\n}\n\nexport default class WorkletEventHandler {\n  constructor(worklet, eventNames = []) {\n    this.worklet = worklet;\n    this.eventNames = eventNames;\n    this.reattachNeeded = false;\n    this.listeners = {};\n    this.viewTag = undefined;\n    this.registrations = [];\n\n    if (!NativeReanimatedModule.native) {\n      this.listeners = eventNames.reduce((acc, eventName) => {\n        acc[eventName] = jsListener(eventName, worklet);\n        return acc;\n      }, {});\n    }\n  }\n\n  updateWorklet(newWorklet) {\n    this.worklet = newWorklet;\n    this.reattachNeeded = true;\n  }\n\n  registerForEvents(viewTag, fallbackEventName) {\n    this.viewTag = viewTag;\n    this.registrations = this.eventNames.map(eventName => NativeReanimatedModule.registerEventHandler(viewTag + eventName, this.worklet));\n\n    if (this.registrations.length === 0 && fallbackEventName) {\n      this.registrations.push(NativeReanimatedModule.registerEventHandler(viewTag + fallbackEventName, this.worklet));\n    }\n  }\n\n  unregisterFromEvents() {\n    this.registrations.forEach(id => NativeReanimatedModule.unregisterEventHandler(id));\n    this.registrations = [];\n  }\n\n}"],"mappings":"sSAAA,MAAOA,CAAAA,sBAAP,KAAmC,oBAAnC,CAEA,QAASC,CAAAA,UAAT,CAAoBC,SAApB,CAA+BC,OAA/B,CAAwC,CACtC,MAAO,UAAAC,GAAG,CAAI,CACZD,OAAO,CAACE,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,CAAkBF,GAAG,CAACG,WAAtB,CAAd,CAAkD,CACxDL,SAAS,CAATA,SADwD,CAAlD,CAAD,CAAP,CAGD,CAJD,CAKD,C,GAEoBM,CAAAA,mB,yBACnB,6BAAYC,OAAZ,CAAsC,IAAjBC,CAAAA,UAAiB,2DAAJ,EAAI,2CACpC,KAAKD,OAAL,CAAeA,OAAf,CACA,KAAKC,UAAL,CAAkBA,UAAlB,CACA,KAAKC,cAAL,CAAsB,KAAtB,CACA,KAAKC,SAAL,CAAiB,EAAjB,CACA,KAAKC,OAAL,CAAeC,SAAf,CACA,KAAKC,aAAL,CAAqB,EAArB,CAEA,GAAI,CAACf,sBAAsB,UAA3B,CAAoC,CAClC,KAAKY,SAAL,CAAiBF,UAAU,CAACM,MAAX,CAAkB,SAACC,GAAD,CAAMf,SAAN,CAAoB,CACrDe,GAAG,CAACf,SAAD,CAAH,CAAiBD,UAAU,CAACC,SAAD,CAAYO,OAAZ,CAA3B,CACA,MAAOQ,CAAAA,GAAP,CACD,CAHgB,CAGd,EAHc,CAAjB,CAID,CACF,C,6DAED,uBAAcC,UAAd,CAA0B,CACxB,KAAKT,OAAL,CAAeS,UAAf,CACA,KAAKP,cAAL,CAAsB,IAAtB,CACD,C,iCAED,2BAAkBE,OAAlB,CAA2BM,iBAA3B,CAA8C,gBAC5C,KAAKN,OAAL,CAAeA,OAAf,CACA,KAAKE,aAAL,CAAqB,KAAKL,UAAL,CAAgBU,GAAhB,CAAoB,SAAAlB,SAAS,QAAIF,CAAAA,sBAAsB,CAACqB,oBAAvB,CAA4CR,OAAO,CAAGX,SAAtD,CAAiE,KAAI,CAACO,OAAtE,CAAJ,EAA7B,CAArB,CAEA,GAAI,KAAKM,aAAL,CAAmBO,MAAnB,GAA8B,CAA9B,EAAmCH,iBAAvC,CAA0D,CACxD,KAAKJ,aAAL,CAAmBQ,IAAnB,CAAwBvB,sBAAsB,CAACqB,oBAAvB,CAA4CR,OAAO,CAAGM,iBAAtD,CAAyE,KAAKV,OAA9E,CAAxB,EACD,CACF,C,oCAED,+BAAuB,CACrB,KAAKM,aAAL,CAAmBS,OAAnB,CAA2B,SAAAC,EAAE,QAAIzB,CAAAA,sBAAsB,CAAC0B,sBAAvB,CAA8CD,EAA9C,CAAJ,EAA7B,EACA,KAAKV,aAAL,CAAqB,EAArB,CACD,C,0CAlCkBP,mB"},"metadata":{},"sourceType":"module"}